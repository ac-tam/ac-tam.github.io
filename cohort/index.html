<style>
    table, th, td, tr {
        border: 1px solid black;
        border-collapse: collapse;

    }

    td {
        width: 300px;
        height: 50px;
        text-align: center;
    }

    table input, a {
            width: 100%;
            height: 100%;
            border: none;
            font-size: 12px;
    }

    div {
        display: block;
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
        margin-top: 10%;
    }

    body {
        font-family: sans-serif;
    }

    a {
        background-color: none;
    }

</style>
<body>
    <div class = "textbox">

        <div id = "ans" style = "font-size: 24px; font-family: sans-serif;"></div>

        <table>
            <tr>
                <th>Period & Time</th>
                <th>Odd Days</th>
                <th>Even Days</th>
            </tr>

            <tr>
                <td>Period 1 <br><br>8:36AM - 9:53AM </td>
                <td><a id = "1odd"></a>
                <td><a id = "1even"></a>
            </tr>
            <tr>
                <td>Period 2 <br><br>9:57AM - 11:14AM</td>
                <td><a id = "2odd"></a>
                <td><a id = "2even"></a>
            </tr>
            <tr>
                <td>Period 3<br><br> 11:18AM - 12:35PM</td>
                <td><a id = "3odd"></a>
                <td><a id = "3even"></a>
            </tr>
            <tr>
                <td>Period 4 <br><br>12:39PM - 1:56PM</td>
                <td><a id = "4odd"></td>
                <td><a id = "4even"></a>
            </tr>
            
        </table>
        <button onclick = "edit()" id = "edit">Edit Schedule</button>

    </div>






    <script>
        function writeCookie() {
                document.cookie =`1=${document.getElementById("1odd").innerHTML}'${document.getElementById("1even").innerHTML}'${document.getElementById("2odd").innerHTML}'${document.getElementById("2even").innerHTML}'${document.getElementById("3odd").innerHTML}'${document.getElementById("3even").innerHTML}'${document.getElementById("4odd").innerHTML}'${document.getElementById("4even").innerHTML}'`
            
        }

        function readCookie() {
            if (document.cookie != "") {
                var arr = document.cookie.substring(2).split("'")
                document.getElementById("1odd").parentElement.innerHTML = `<a target = "_blank" id = "1odd" href = ${arr[0]}>${arr[0]}</a> `
                document.getElementById("1even").parentElement.innerHTML = `<a target = "_blank" id = "1even" href = ${arr[1]}>${arr[1]}</a> `
                document.getElementById("2odd").parentElement.innerHTML = `<a target = "_blank" id = "2odd" href = ${arr[2]}>${arr[2]}</a> `
                document.getElementById("2even").parentElement.innerHTML = `<a target = "_blank" id = "2even" href = ${arr[3]}>${arr[3]}</a> `
                document.getElementById("3odd").parentElement.innerHTML = `<a target = "_blank" id = "3odd" href = ${arr[4]}>${arr[4]}</a> `
                document.getElementById("3even").parentElement.innerHTML = `<a target = "_blank" id = "3even" href = ${arr[5]}>${arr[5]}</a> `
                document.getElementById("4odd").parentElement.innerHTML = `<a target = "_blank" id = "4odd" href = ${arr[6]}>${arr[6]}</a> `
                document.getElementById("4even").parentElement.innerHTML = `<a target = "_blank" id = "4even" href = ${arr[7]}>${arr[7]}</a> `
            }

        }

        function edit() {
            var edit = document.getElementById("edit")
            if (edit.innerHTML == "Edit Schedule") {
                edit.innerHTML = "Save Schedule"
                document.getElementById("1odd").parentElement.innerHTML = `<input id = "1odd" value = ${document.getElementById("1odd").innerHTML}> `
                document.getElementById("1even").parentElement.innerHTML = `<input id = "1even" value = ${document.getElementById("1even").innerHTML}> `
                document.getElementById("2odd").parentElement.innerHTML = `<input id = "2odd" value = ${document.getElementById("2odd").innerHTML}> `
                document.getElementById("2even").parentElement.innerHTML = `<input id = "2even" value = ${document.getElementById("2even").innerHTML}> `
                document.getElementById("3odd").parentElement.innerHTML = `<input id = "3odd" value = ${document.getElementById("3odd").innerHTML}> `
                document.getElementById("3even").parentElement.innerHTML = `<input id = "3even" value = ${document.getElementById("3even").innerHTML}> `
                document.getElementById("4odd").parentElement.innerHTML = `<input id = "4odd" value = ${document.getElementById("4odd").innerHTML}> `
                document.getElementById("4even").parentElement.innerHTML = `<input id = "4even" value = ${document.getElementById("4even").innerHTML}> `
            }
            else {
                edit.innerHTML = "Edit Schedule"
                document.getElementById("1odd").parentElement.innerHTML = `<a target = "_blank" id = "1odd" href = ${document.getElementById("1odd").value}>${document.getElementById("1odd").value}</a> `
                document.getElementById("1even").parentElement.innerHTML = `<a target = "_blank" id = "1even" href = ${document.getElementById("1even").value}>${document.getElementById("1even").value}</a> `
                document.getElementById("2odd").parentElement.innerHTML = `<a target = "_blank" id = "2odd" href = ${document.getElementById("2odd").value}>${document.getElementById("2odd").value}</a> `
                document.getElementById("2even").parentElement.innerHTML = `<a target = "_blank" id = "2even" href = ${document.getElementById("2even").value}>${document.getElementById("2even").value}</a> `
                document.getElementById("3odd").parentElement.innerHTML = `<a target = "_blank" id = "3odd" href = ${document.getElementById("3odd").value}>${document.getElementById("3odd").value}</a> `
                document.getElementById("3even").parentElement.innerHTML = `<a target = "_blank" id = "3even" href = ${document.getElementById("3even").value}>${document.getElementById("3even").value}</a> `
                document.getElementById("4odd").parentElement.innerHTML = `<a target = "_blank" id = "4odd" href = ${document.getElementById("4odd").value}>${document.getElementById("4odd").value}</a> `
                document.getElementById("4even").parentElement.innerHTML = `<a target = "_blank" id = "4even" href = ${document.getElementById("4even").value}>${document.getElementById("4even").value}</a> `
                writeCookie();
            }
        }


        readCookie();




        document.getElementById("1odd").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("1even").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("2odd").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("2even").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("3odd").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("3even").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("4odd").parentElement.style.background = "rgb(255, 255, 255)";
        document.getElementById("4even").parentElement.style.background = "rgb(255, 255, 255)";
        
        var b = new Date()
        document.getElementById("ans").innerHTML = (b.getMonth() + 1) +"/" + b.getDate() + " is Cohort " + ABC(schoolDate(b.getMonth() + 1, b.getDate(), 2020));
        


        function a() {
            var month = parseInt(document.getElementById("month").value)
            var year = parseInt(document.getElementById("year").value)
            var date = parseInt(document.getElementById("date").value)

            if (month + "" !== "NaN" && date + "" !== "NaN") 
            document.getElementById("ans").innerHTML = month + "/" + date + " is Cohort " + ABC(schoolDate(month, date, year));
       }
   


    function dayOfYear(now) {
        var start = new Date(now.getFullYear(), 0, 0);
        return Math.floor(((now - start) + ((start.getTimezoneOffset() - now.getTimezoneOffset()) * 60 * 1000) )/ 86400000);
    }

    function schoolDate(m, d, y) {
        var weekends = dayOfYear(new Date(y, m -1, d - 1)) - dayOfYear(new Date(2020, 8, 20)) 

        return weekends - Math.floor(weekends / 7) * 2- holidays(new Date(y, m -1, d - 1))
    }

    function holidays(date) {
        var holidaysArr = [
            new Date(2020, 8, 19),
            new Date(2020, 8, 27),
            new Date(2020, 9, 11),
            new Date(2020, 10, 2),
            new Date(2020, 10, 25),
            new Date(2020, 10, 26),
            new Date(2020, 10, 26),
            new Date(2020, 11, 23),
            new Date(2020, 11, 24),
            new Date(2020, 11, 25),
            new Date(2020, 11, 26),
            new Date(2020, 11, 27),
            new Date(2020, 11, 28),
            new Date(2020, 11, 29),
            new Date(2020, 11, 30),
            new Date(2021, 0, 0),
            new Date(2021, 0, 17)


        ]

        for (var i = holidaysArr.length - 1; i > -1 ; i--)
            if (holidaysArr[i].getTime() == date.getTime());
            else if (holidaysArr[i].getTime() < date.getTime())  
                return i

    }
    
    
    function ABC(date) {
    
        var str = ""
        var cohort = ""
        
        switch (date % 6) {
            case 1 - 1: 
                str = "odd"
                cohort =  "A Odd" 
                break;
            
            case 2 - 1: 
                str = "even"
                cohort =  "A Even"
                break;

            case 3 - 1: 
                str = "odd"
                cohort =  "B Odd"
                break; 
            
            case 4 - 1: 
                str = "even"
                cohort =  "B Even"
                break;
            case 5 - 1: 
                str = "odd"
                cohort =  "C Odd"
                break;
            
            case 6 - 1: 
                str = "even"
                cohort =  "C Even"
                break;
            
        }

        var now = new Date();
        var time = [new Date(now.getFullYear(), now.getMonth(), now.getDate(), 8, 36 - 6),
                    new Date(now.getFullYear(), now.getMonth(), now.getDate(), 9, 57 - 6),
                    new Date(now.getFullYear(), now.getMonth(), now.getDate(), 11, 18 - 6),
                    new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 39 - 6)]


        for (var i = 3; i > -1; i--)
            if (now.getTime() >= time[i].getTime()) {
                document.getElementById((i + 1) + str).parentElement.style.background = "rgba(144, 238, 144, 0.384)"
        break;
}
        return cohort;
    }     
    
    
    </script>    
</body>
